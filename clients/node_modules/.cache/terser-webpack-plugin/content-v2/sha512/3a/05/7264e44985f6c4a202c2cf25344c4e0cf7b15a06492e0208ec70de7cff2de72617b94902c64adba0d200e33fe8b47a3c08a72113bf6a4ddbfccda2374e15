{"code":"!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=5)}([function(t,e,n){const{createResponseType:r}=n(10),o=r(\"application/json; charset=utf-8\");t.exports={json:o}},function(t,e){t.exports={Router:function({base:t=\"\",routes:e=[]}={}){return{__proto__:new Proxy({},{get:(n,r,o)=>(n,...s)=>e.push([r.toUpperCase(),RegExp(`^${(t+n).replace(/(\\/?)\\*/g,\"($1.*)?\").replace(/\\/$/,\"\").replace(/:(\\w+)(\\?)?(\\.)?/g,\"$2(?<$1>[^/]+)$2$3\").replace(/\\.(?=[\\w(])/,\"\\\\.\").replace(/\\)\\.\\?\\(([^\\[]+)\\[\\^/g,\"?)\\\\.?($1(?<=\\\\.)[^\\\\.\")}/*$`),s])&&o}),routes:e,async handle(t,...n){let r,o,s=new URL(t.url);for(var[a,c,i]of(t.query=Object.fromEntries(s.searchParams),e))if((a===t.method||\"ALL\"===a)&&(o=s.pathname.match(c)))for(var u of(t.params=o.groups,i))if(void 0!==(r=await u(t.proxy||t,...n)))return r}}}}},function(t,e,n){t.exports={...n(3),...n(0),...n(11),...n(12),...n(13)}},function(t,e,n){const{json:r}=n(0);t.exports={error:(t=500,e=\"Internal Server Error.\")=>r({...\"object\"==typeof e?e:{status:t,error:e}},{status:t})}},function(t,e,n){t.exports={...n(6),...n(2),...n(14),...n(16)}},function(t,e,n){\"use strict\";n.r(e);var r=n(1),o=n(4);const s=Object(r.Router)();async function a(t,e){return new Response(t,{...e,headers:{\"content-type\":\"application/json;charset=UTF-8\",\"Access-Control-Allow-Origin\":\"*\",\"Access-Control-Allow-Methods\":\"GET,POST,PUT,DELETE,HEAD,OPTIONS\",\"Access-Control-Allow-Headers\":\"content-type\",\"Access-Control-Max-Age\":\"86400\"}})}s.get(\"/\",async()=>a(await CLIENTS.list())),s.get(\"/:id\",async({params:t})=>{const e=await CLIENTS.get(t.id);return a(JSON.parse(e))}),s.post(\"/:id\",o.withContent,async({params:t,content:e})=>{e=JSON.stringify(e),await CLIENTS.put(t.id,e);const n=await CLIENTS.get(t.id);return a(JSON.parse(n))}),s.delete(\"/:id\",async({params:t})=>a(await CLIENTS.delete(t.id))),s.all(\"*\",()=>new Response(\"Not Found.\",{status:404})),addEventListener(\"fetch\",t=>{t.respondWith(s.handle(t.request))})},function(t,e,n){t.exports={...n(7),...n(8),...n(9)}},function(t,e){t.exports={withContent:async t=>{let e=t.headers.get(\"content-type\");t.content=void 0;try{e&&e.includes(\"application/json\")&&(t.content=await t.json())}catch(t){}}}},function(t,e){t.exports={withCookies:t=>{t.cookies={};try{t.cookies=(t.headers.get(\"Cookie\")||\"\").split(/;\\s*/).map(t=>t.split(\"=\")).reduce((t,[e,n])=>(t[e]=n,t),{})}catch(t){}}}},function(t,e){t.exports={withParams:t=>{for(const e in t.params||{})t[e]=t.params[e]}}},function(t,e){t.exports={createResponseType:(t=\"text/plain; charset=utf-8\")=>(e,n={})=>{const{headers:r={},...o}=n;return\"object\"==typeof e?new Response(JSON.stringify(e),{headers:{\"Content-Type\":t,...r},...o}):new Response(e,n)}}},function(t,e,n){const{error:r}=n(3);t.exports={missing:(t=\"Not found.\")=>r(404,t)}},function(t,e,n){const{json:r}=n(0);t.exports={status:(t,e)=>e?r({...\"object\"==typeof e?e:{status:t,message:e}},{status:t}):new Response(null,{status:t})}},function(t,e){t.exports={text:(t,e={})=>new Response(t,e)}},function(t,e,n){t.exports={...n(15)}},function(t,e,n){\"use strict\";const{Router:r}=n(1),{error:o}=n(2);t.exports={ThrowableRouter:(t={})=>{const{stack:e=!1}=t;return new Proxy(r(t),{get:(t,n)=>(...r)=>\"handle\"===n?t[n](...r).catch(t=>o(t.status||500,{status:t.status||500,error:t.message,stack:e&&t.stack||void 0})):t[n](...r)})}}},function(t,e,n){t.exports={...n(17)}},function(t,e){class n extends Error{constructor(t=500,e=\"Internal Error.\"){super(e),this.name=\"StatusError\",this.status=t}}t.exports={StatusError:n}}]);","extractedComments":[]}